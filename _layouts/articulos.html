---
layout: default
title: Artículos
permalink: /articulos/
---

<section class="px-6 md:px-50 py-20 bg-[#FAF7F2] text-gray-900">
  <div class="mb-12 text-center">
    <h1 class="text-5xl font-serif mt-2">Artículos</h1>
    <p class="mt-4 text-xl max-w-2xl mx-auto text-gray-700">
      Textos informativos y directos.
    </p>
  </div>

  <!-- Filtros por pilar -->
  <div class="flex flex-wrap justify-center gap-4 mb-16">
    <button class="filter-btn text-sm font-medium px-4 py-2 rounded border border-gray-300 hover:bg-gray-200 transition active" data-filter="all">Todos</button>
    <button class="filter-btn text-sm font-medium px-4 py-2 rounded border border-gray-300 hover:bg-gray-200 transition" data-filter="logos">Logos</button>
    <button class="filter-btn text-sm font-medium px-4 py-2 rounded border border-gray-300 hover:bg-gray-200 transition" data-filter="pathos">Pathos</button>
    <button class="filter-btn text-sm font-medium px-4 py-2 rounded border border-gray-300 hover:bg-gray-200 transition" data-filter="ethos">Ethos</button>
  </div>

  <!-- Artículos -->
  <div id="articulos-grid" class="grid gap-10 md:grid-cols-2 lg:grid-cols-3">
    {% assign articulos = site.posts | where: "type", "articulo" %}
    {% for post in articulos %}
    <a href="{{ post.url }}" class="block h-full">
      <article class="group rounded-lg overflow-hidden hover:bg-[#FAF7F2] transition-colors duration-200 h-full flex flex-col space-y-2 opacity-0" data-pilar="{{ post.pilar | downcase }}">
        {% if post.image %}
          <img src="{{ post.image | relative_url }}" alt="{{ post.title }}" class="w-full h-48 object-cover">
        {% endif %}

        <h3 class="text-lg font-semibold leading-snug hover:text-[#4A6C6F] transition">
          {{ post.title }}
        </h3>

        <p class="text-base text-gray-600 leading-normal">
          {{ post.description | default: post.excerpt | truncatewords: 20 }}
        </p>

        <div class="text-sm text-gray-400 mt-auto relative-date" data-date="{{ post.date | date_to_xmlschema }}">
          Publicado {{ post.date | date_to_relative }}
        </div>

        <div class="flex justify-between text-sm text-gray-500 mt-2">
          {% if post.pilar %}
            <div class="capitalize">Pilar: <span class="font-medium">{{ post.pilar }}</span></div>
          {% else %}
            <div></div>
          {% endif %}
          <div class="tracking-wide text-xs text-gray-400 uppercase">{{ post.type }}</div>
        </div>
      </article>
    </a>
    {% endfor %}
  </div>
</section>

<!-- GSAP + Filtro -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const filterButtons = document.querySelectorAll('.filter-btn');
    const cardLinks = document.querySelectorAll('#articulos-grid > a');
    const cards = document.querySelectorAll('#articulos-grid .group');

    let activeFilter = 'all';

    // Animación inicial
    gsap.to(cards, {
      opacity: 1,
      y: 0,
      duration: 0.8,
      stagger: 0.15,
      ease: "power2.out"
    });

    filterButtons.forEach(button => {
      button.addEventListener('click', () => {
        activeFilter = button.getAttribute('data-filter');

        filterButtons.forEach(b => b.classList.remove('bg-gray-200', 'font-semibold', 'active'));
        button.classList.add('bg-gray-200', 'font-semibold', 'active');

        cardLinks.forEach(link => {
          const card = link.querySelector('.group');
          const cardPilar = card.getAttribute('data-pilar');
          const matches = activeFilter === 'all' || cardPilar === activeFilter;

          if (matches) {
            link.style.display = 'block';
            gsap.to(card, { opacity: 1, y: 0, duration: 0.5, display: 'block' });
          } else {
            gsap.to(card, {
              opacity: 0,
              y: 20,
              duration: 0.3,
              onComplete: () => { link.style.display = 'none'; }
            });
          }
        });
      });
    });
  });
</script>
