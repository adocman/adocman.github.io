---
layout: default
title: Lecturas
permalink: /lecturas/
---

<section class="px-6 md:px-50 py-50 bg-[#F9F9F9] text-[#141414]">
  <div class="mb-12 text-center">
    <h1 class="text-5xl font-serif mt-2">Lecturas</h1>
    <p class="mt-4 text-xl max-w-2xl mx-auto text-[#141414]">
      Una selección de lo que he leído (biblioteca) y lo que tengo pendiente (antibiblioteca) por leer en mis estantes.
    </p>
  </div>

  <div class="flex flex-wrap justify-center gap-4 mb-16">
    <button class="filter-btn text-sm font-medium px-4 py-2 rounded border border-[#F3F6F4] hover:bg-[#F3F6F4] transition active bg-[#4A6C6F] text-white" data-filter="all">Todas</button>
    <button class="filter-btn text-sm font-medium px-4 py-2 rounded border border-[#F3F6F4] hover:bg-[#F3F6F4] transition" data-filter="biblioteca">Biblioteca</button>
    <button class="filter-btn text-sm font-medium px-4 py-2 rounded border border-[#F3F6F4] hover:bg-[#F3F6F4] transition" data-filter="antibiblioteca">Antibiblioteca</button>
  </div>

  <div id="lecturas-grid" class="grid gap-10 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5">
    {% for libro in site.data.lecturas %}
    <div class="libro-card flex flex-col space-y-4 opacity-0 w-full" data-estado="{{ libro.estado }}">
      <img src="{{ libro.portada }}" alt="{{ libro.titulo }}"
           class="w-full rounded shadow-md aspect-[11/16] object-fit" />
      <div class="flex flex-col flex-grow items-center text-center space-y-2 px-2">
        <h2 class="text-3xl md:text-xl lg:text-2xl font-serif font-semibold leading-snug">{{ libro.titulo }}</h2>
        <p class="italic text-[#BCBCBC]">{{ libro.autor }}</p>
        {% if libro.notas %}
        <p class="text-[#141414]">{{ libro.notas }}</p>
        {% endif %}
        <p class="mt-auto font-semibold text-sm uppercase text-[#BCBCBC]">{{ libro.estado }}</p>
      </div>
    </div>
    {% endfor %}
  </div>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const filterButtons = document.querySelectorAll('.filter-btn');
    const cards = document.querySelectorAll('.libro-card');

    let activeFilter = 'all';

    // Animación de entrada inicial
    gsap.to(cards, {
      opacity: 1,
      y: 0,
      duration: 0.8,
      stagger: 0.15,
      ease: "power2.out"
    });

    filterButtons.forEach(button => {
      button.addEventListener('click', () => {
        activeFilter = button.getAttribute('data-filter');

        // Lógica original de cambio de clase (sin transición de color)
        filterButtons.forEach(b => b.classList.remove('bg-[#4A6C6F]', 'text-white', 'active'));
        button.classList.add('bg-[#4A6C6F]', 'text-white', 'active');

        cards.forEach(card => {
          const estado = card.getAttribute('data-estado');
          const matches = activeFilter === 'all' || estado === activeFilter;

          if (matches) {
            card.style.display = 'flex';
            gsap.to(card, { opacity: 1, y: 0, duration: 0.5 });
          } else {
            gsap.to(card, {
              opacity: 0,
              y: 20,
              duration: 0.3,
              onComplete: () => { card.style.display = 'none'; }
            });
          }
        });
      });
    });
  });
</script>